<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Promise</title>
		<script src="../js/jquery-3.2.1.js"></script>
	</head>
	<body>
		<!--
		
			Promise------承诺
			
			异步:
				操作之间没关系
				同时进行多个操作
				
				代码更复杂
			同步:
				同时只能做一件事
				
				代码简单
				
			Promise---消除异步操作
				用同步一样的方式来书写异步
				
				
			----------------------------------------------
				
			Promise.all
			Promise.race  竞速
			
			
			谁快先用谁
			Promise.race([
				$.ajax({url:'http://a2.taobao.com/data/users'}),
				$.ajax({url:'http://a5.taobao.com/data/users'}),
				$.ajax({url:'http://a12.taobao.com/data/users'}),
				$.ajax({url:'http://a3.taobao.com/data/users'}),
			])
		-->
		<script>
			Promise.all([
				$.ajax({
					url:'../data/arr.txt',
					dataType:'json'
				}),
				$.ajax({
					url:'../data/json.txt',
					dataType:'json'
				}),
				$.ajax({
					url:'../data/num.txt',
					dataType:'json'
				})
			]).then(results=>{
				let [arr,json,num] = results;
				console.log('resolve')
				console.log(arr,json,num);
			},err=>{
				console.log(err);
			})
		</script>
	</body>
</html>
