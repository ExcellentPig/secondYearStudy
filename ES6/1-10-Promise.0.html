<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Promise</title>
		<script src="../js/jquery-3.2.1.js"></script>
	</head>
	<body>
		<!--
		
			Promise------承诺
			
			异步:
				操作之间没关系
				同时进行多个操作
				
				代码更复杂
			同步:
				同时只能做一件事
				
				代码简单
				
			Promise---消除异步操作
				用同步一样的方式来书写异步
		-->
		<script>
			let p = new Promise(function(resolve,reject){
				//异步代码
				//resolve--成功  reject--失败
				
				$.ajax({
					url:'../data/arr.txt',
					dataType:'json',
					success(arr){
						resolve(arr);
					},
					error(err){
						reject(err);
					}
				})			
			})
			p.then(function(arr){
				console.log('resolve',arr);
			},function(err){
				console.log('reject',err);
			});
		</script>
	</body>
</html>
